<!-- Component: Emergency Exit Button
     Type: Atom
     Status: Complete
     Dependencies: None
     Trauma-Informed Considerations:
     - Always visible and accessible
     - High contrast for easy recognition
     - Clear, direct language
     - Immediate visual feedback on interaction
     - No confirmation required for quick exit
     - Responsive sizing for optimal touchpoint on different devices
-->
<div
  x-data="emergencyExitButton({ size: size || 'md', label: label || 'Emergency Exit', action: action || (() => {}), tooltip: tooltip || 'Click to exit immediately' })"
  :class="{
    'inline-block relative': size !== 'full',
    'w-full': size === 'full'
  }"
>
  <button
    @mouseenter="hover = true"
    @mouseleave="hover = false"
    @focus="hover = true"
    @blur="hover = false"
    @click="action()"
    :class="{
      // Base classes
      'bg-rhodochrosite-rose hover:bg-rhodochrosite-rose-600 text-white rounded-md shadow-soft transition-all duration flex items-center justify-center': true,
      'transform scale-[1.02]': hover,
      // Size variations
      'px-sm py-xs text-small min-h-[44px] min-w-[44px] space-x-2': size === 'sm',
      'px-md py-sm text-base min-h-[44px] space-x-2': size === 'md',
      'px-lg py-md text-h4-mobile md:text-h4-tablet lg:text-h4-desktop min-h-[52px] space-x-3': size === 'lg',
      'px-xl py-lg text-h3-mobile md:text-h3-tablet lg:text-h3-desktop min-h-[60px] space-x-4': size === 'xl',
      'w-full': size === 'full'
    }"
    aria-label="Emergency exit - Click to leave immediately"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      :class="{
        'h-4 w-4': size === 'sm',
        'h-5 w-5': size === 'md',
        'h-6 w-6': size === 'lg',
        'h-7 w-7': size === 'xl',
        'h-6 w-6': size === 'full'
      }"
      viewBox="0 0 20 20"
      fill="currentColor"
    >
      <path
        fill-rule="evenodd"
        d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
        clip-rule="evenodd"
      />
    </svg>
    <span x-text="label"></span>
  </button>
  <!-- Gentle tooltip -->
  <div
    x-show="hover"
    x-transition:enter="transition ease-out duration-300"
    x-transition:enter-start="opacity-0 transform -translate-y-2"
    x-transition:enter-end="opacity-100 transform translate-y-0"
    class="absolute bottom-full left-1/2 transform -translate-x-1/2 -translate-y-2 bg-selenite-white-50 text-grey-800 text-caption px-sm py-xs rounded-md shadow-soft mb-2 whitespace-nowrap z-50"
  >
    <span x-text="tooltip"></span>
  </div>
</div>
